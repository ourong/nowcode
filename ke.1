import java.lang.reflect.Array;
import java.util.Collections;
import java.util.ArrayList;
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner scanner=new Scanner(System.in);
        while(scanner.hasNext()){
            int n=scanner.nextInt();
            int m=scanner.nextInt();
            int x;
            ArrayList<ArrayList<Integer>> list=new ArrayList<ArrayList<Integer>>();

            for (int i = 0; i <n ; i++) {
                x=scanner.nextInt();
                int c[]=new int[x];
                ArrayList<Integer> temp=new ArrayList<>();
                for (int j = 0; j <x ; j++) {
                    c[j]=scanner.nextInt();
                    temp.add(c[j]);
                }
                list.add(temp);

            }
            int ans=0;
            while(m!=0){
                ArrayList<Integer> ret=new ArrayList<>();
                for(int i=0;i<list.size();i++){
                    int size=list.get(i).size();
                    System.out.println("size:"+size);
                    if(size>=2){
                        ret.add(list.get(i).get(0));
                        ret.add(list.get(i).get(size-1));
                        list.get(i).remove(0);
                        list.get(i).remove(list.get(i).size()-1);
                    }
                    if(size==1){
                        ret.add(list.get(i).get(0));
                        list.get(i).remove(0);
                    }
                    if(ret.size()!=0){
                        Collections.sort(ret);
                        System.out.println("ret"+ret);
                        ans+=ret.get(ret.size()-1);
                        m--;
                    }
                }

                ret.clear();
            }

            System.out.println(ans);


        }
    }
}